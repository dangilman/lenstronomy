
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml">
  <head>
    <meta http-equiv="X-UA-Compatible" content="IE=Edge" />
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
    <title>lenstronomy.Data package &#8212; lenstronomy 0.7.0 documentation</title>
    <link rel="stylesheet" href="_static/classic.css" type="text/css" />
    <link rel="stylesheet" href="_static/pygments.css" type="text/css" />
    
    <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
    <script type="text/javascript" src="_static/jquery.js"></script>
    <script type="text/javascript" src="_static/underscore.js"></script>
    <script type="text/javascript" src="_static/doctools.js"></script>
    <script async="async" type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.1/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="lenstronomy.GalKin package" href="lenstronomy.GalKin.html" />
    <link rel="prev" title="lenstronomy.Cosmo package" href="lenstronomy.Cosmo.html" /> 
  </head><body>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             accesskey="I">index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lenstronomy.GalKin.html" title="lenstronomy.GalKin package"
             accesskey="N">next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.Cosmo.html" title="lenstronomy.Cosmo package"
             accesskey="P">previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 0.7.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="lenstronomy.html" accesskey="U">lenstronomy package</a> &#187;</li> 
      </ul>
    </div>  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <div class="section" id="lenstronomy-data-package">
<h1>lenstronomy.Data package<a class="headerlink" href="#lenstronomy-data-package" title="Permalink to this headline">¶</a></h1>
<div class="section" id="submodules">
<h2>Submodules<a class="headerlink" href="#submodules" title="Permalink to this headline">¶</a></h2>
</div>
<div class="section" id="module-lenstronomy.Data.coord_transforms">
<span id="lenstronomy-data-coord-transforms-module"></span><h2>lenstronomy.Data.coord_transforms module<a class="headerlink" href="#module-lenstronomy.Data.coord_transforms" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lenstronomy.Data.coord_transforms.Coordinates">
<em class="property">class </em><code class="descclassname">lenstronomy.Data.coord_transforms.</code><code class="descname">Coordinates</code><span class="sig-paren">(</span><em>transform_pix2angle</em>, <em>ra_at_xy_0</em>, <em>dec_at_xy_0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/coord_transforms.html#Coordinates"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.coord_transforms.Coordinates" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class to handle linear coordinate transformations of a square pixel image</p>
<dl class="method">
<dt id="lenstronomy.Data.coord_transforms.Coordinates.coordinate_grid">
<code class="descname">coordinate_grid</code><span class="sig-paren">(</span><em>numPix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/coord_transforms.html#Coordinates.coordinate_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.coord_transforms.Coordinates.coordinate_grid" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>numPix</strong> – number of pixels per axis</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">2d arrays with coordinates in RA/DEC with ra_coord[y-axis, x-axis]</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.coord_transforms.Coordinates.map_coord2pix">
<code class="descname">map_coord2pix</code><span class="sig-paren">(</span><em>ra</em>, <em>dec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/coord_transforms.html#Coordinates.map_coord2pix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.coord_transforms.Coordinates.map_coord2pix" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ra</strong> – ra coordinates, relative</li>
<li><strong>dec</strong> – dec coordinates, relative</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(x, y) pixel position of coordinate (ra, dec)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.coord_transforms.Coordinates.map_pix2coord">
<code class="descname">map_pix2coord</code><span class="sig-paren">(</span><em>x_pos</em>, <em>y_pos</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/coord_transforms.html#Coordinates.map_pix2coord"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.coord_transforms.Coordinates.map_pix2coord" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x_pos</strong> – pixel position</li>
<li><strong>y_pos</strong> – pixel position</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(ra, dec) coordinates of pixel position (x_pos, y_pos)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.coord_transforms.Coordinates.pixel_area">
<code class="descname">pixel_area</code><a class="headerlink" href="#lenstronomy.Data.coord_transforms.Coordinates.pixel_area" title="Permalink to this definition">¶</a></dt>
<dd><p>angular area of a pixel in the image
:return: area [arcsec^2]</p>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.coord_transforms.Coordinates.pixel_size">
<code class="descname">pixel_size</code><a class="headerlink" href="#lenstronomy.Data.coord_transforms.Coordinates.pixel_size" title="Permalink to this definition">¶</a></dt>
<dd><p>size of pixel
:return: sqrt(pixel_area)</p>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.coord_transforms.Coordinates.shift_coordinate_grid">
<code class="descname">shift_coordinate_grid</code><span class="sig-paren">(</span><em>x_shift</em>, <em>y_shift</em>, <em>pixel_unit=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/coord_transforms.html#Coordinates.shift_coordinate_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.coord_transforms.Coordinates.shift_coordinate_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>shifts the coordinate system
:param x_shif: shift in x (or RA)
:param y_shift: shift in y (or DEC)
:param pixel_unit: bool, if True, units of pixels in input, otherwise RA/DEC
:return: updated data class with change in coordinate system</p>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.coord_transforms.Coordinates.transform_angle2pix">
<code class="descname">transform_angle2pix</code><a class="headerlink" href="#lenstronomy.Data.coord_transforms.Coordinates.transform_angle2pix" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">transformation matrix from angular to pixel coordinates</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.coord_transforms.Coordinates.xy_at_radec_0">
<code class="descname">xy_at_radec_0</code><a class="headerlink" href="#lenstronomy.Data.coord_transforms.Coordinates.xy_at_radec_0" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">pixel coordinate at angular (0,0) point</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.Data.imaging_data">
<span id="lenstronomy-data-imaging-data-module"></span><h2>lenstronomy.Data.imaging_data module<a class="headerlink" href="#module-lenstronomy.Data.imaging_data" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lenstronomy.Data.imaging_data.Data">
<em class="property">class </em><code class="descclassname">lenstronomy.Data.imaging_data.</code><code class="descname">Data</code><span class="sig-paren">(</span><em>kwargs_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/imaging_data.html#Data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>class to handle the data, coordinate system and masking, including convolution with various numerical precisions</p>
<p>The Data() class is initialized with keyword arguments:</p>
<ul class="simple">
<li>‘image_data’: 2d numpy array of the image data</li>
<li>‘transform_pix2angle’ 2x2 transformation matrix (linear) to transform a pixel shift into a coordinate shift (x, y) -&gt; (ra, dec)</li>
<li>‘ra_at_xy_0’ RA coordinate of pixel (0,0)</li>
<li>‘dec_at_xy_0’ DEC coordinate of pixel (0,0)</li>
</ul>
<p>optional keywords for shifts in the coordinate system:
- ‘ra_shift’: shifts the coordinate system with respect to ‘ra_at_xy_0’
- ‘dec_shift’: shifts the coordinate system with respect to ‘dec_at_xy_0’</p>
<p>optional keywords for noise properties:
- ‘background_rms’: rms value of the background noise
- ‘exp_time’: float, exposure time to compute the Poisson noise contribution
- ‘exposure_map’: 2d numpy array, effective exposure time for each pixel. If set, will replace ‘exp_time’
- ‘noise_map’: Gaussian noise (1-sigma) for each individual pixel.
If this keyword is set, the other noise properties will be ignored.</p>
<p>the likelihood for the data given model P(data|model) is defined in the function below. Please make sure that
your definitions and units of ‘exposure_map’, ‘background_rms’ and ‘image_data’ are in accordance with the
likelihood function. In particular, make sure that the Poisson noise contribution is defined in the count rate.</p>
<dl class="attribute">
<dt id="lenstronomy.Data.imaging_data.Data.C_D">
<code class="descname">C_D</code><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.C_D" title="Permalink to this definition">¶</a></dt>
<dd><p>Covariance matrix of all pixel values in 2d numpy array (only diagonal component)
The covariance matrix is estimated from the data.
WARNING: For low count statistics, the noise in the data may lead to biased estimates of the covariance matrix.</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">covariance matrix of all pixel values in 2d numpy array (only diagonal component).</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.imaging_data.Data.background_rms">
<code class="descname">background_rms</code><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.background_rms" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">rms value of background noise</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.imaging_data.Data.center">
<code class="descname">center</code><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.center" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">center_x, center_y of coordinate system</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.imaging_data.Data.coordinates">
<code class="descname">coordinates</code><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.coordinates" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">ra and dec coordinates of the pixels, each in 1d numpy arrays</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.imaging_data.Data.covariance_matrix">
<code class="descname">covariance_matrix</code><span class="sig-paren">(</span><em>data</em>, <em>background_rms=1</em>, <em>exposure_map=1</em>, <em>noise_map=None</em>, <em>verbose=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/imaging_data.html#Data.covariance_matrix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.covariance_matrix" title="Permalink to this definition">¶</a></dt>
<dd><p>returns a diagonal matrix for the covariance estimation which describes the error</p>
<p>Notes:</p>
<ul class="simple">
<li><dl class="first docutils">
<dt>the exposure map must be positive definite. Values that deviate too much from the mean exposure time will be</dt>
<dd>given a lower limit to not under-predict the Poisson component of the noise.</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>the data must be positive semi-definite for the Poisson noise estimate.</dt>
<dd>Values &lt; 0 (Possible after mean subtraction) will not have a Poisson component in their noise estimate.</dd>
</dl>
</li>
</ul>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>data</strong> – data array, eg in units of photons/second</li>
<li><strong>background_rms</strong> – background noise rms, eg. in units (photons/second)^2</li>
<li><strong>exposure_map</strong> – exposure time per pixel, e.g. in units of seconds</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">len(d) x len(d) matrix that give the error of background and Poisson components; (photons/second)^2</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.imaging_data.Data.data">
<code class="descname">data</code><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.data" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">2d numpy array of data</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.imaging_data.Data.deltaPix">
<code class="descname">deltaPix</code><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.deltaPix" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">pixel size (in units of arcsec)</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.imaging_data.Data.exposure_map">
<code class="descname">exposure_map</code><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.exposure_map" title="Permalink to this definition">¶</a></dt>
<dd><p>Units of data and exposure map should result in:
number of flux counts = data * exposure_map</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">exposure map for each pixel</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.imaging_data.Data.log_likelihood">
<code class="descname">log_likelihood</code><span class="sig-paren">(</span><em>model</em>, <em>mask</em>, <em>additional_error_map=0</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/imaging_data.html#Data.log_likelihood"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.log_likelihood" title="Permalink to this definition">¶</a></dt>
<dd><p>computes the likelihood of the data given the model p(data|model)
The Gaussian errors are estimated with the covariance matrix, based on the model image. The errors include the
background rms value and the exposure time to compute the Poisson noise level (in Gaussian approximation).</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>model</strong> – the model (same dimensions and units as data)</li>
<li><strong>mask</strong> – bool (1, 0) values per pixel. If =0, the pixel is ignored in the likelihood</li>
<li><strong>additional_error_map</strong> – additional error term (in same units as covariance matrix).
This can e.g. come from model errors in the PSF estimation.</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">the natural logarithm of the likelihood p(data|model)</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.imaging_data.Data.map_coord2pix">
<code class="descname">map_coord2pix</code><span class="sig-paren">(</span><em>ra</em>, <em>dec</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/imaging_data.html#Data.map_coord2pix"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.map_coord2pix" title="Permalink to this definition">¶</a></dt>
<dd><p>maps the (ra,dec) coordinates of the system into the pixel coordinate of the image</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>ra</strong> – relative RA coordinate as defined by the coordinate frame</li>
<li><strong>dec</strong> – relative DEC coordinate as defined by the coordinate frame</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">(x, y) pixel coordinates</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.imaging_data.Data.map_pix2coord">
<code class="descname">map_pix2coord</code><span class="sig-paren">(</span><em>x</em>, <em>y</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/imaging_data.html#Data.map_pix2coord"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.map_pix2coord" title="Permalink to this definition">¶</a></dt>
<dd><p>maps the (x,y) pixel coordinates of the image into the system coordinates</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>x</strong> – pixel coordinate (can be 1d numpy array), defined in the center of the pixel</li>
<li><strong>y</strong> – pixel coordinate (can be 1d numpy array), defined in the center of the pixel</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">relative (RA, DEC) coordinates of the system</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.imaging_data.Data.noise_map">
<code class="descname">noise_map</code><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.noise_map" title="Permalink to this definition">¶</a></dt>
<dd><p>1-sigma error for each pixel (optional)</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.imaging_data.Data.numData">
<code class="descname">numData</code><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.numData" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">number of pixels in the data</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.imaging_data.Data.shift_coordinate_grid">
<code class="descname">shift_coordinate_grid</code><span class="sig-paren">(</span><em>x_shift</em>, <em>y_shift</em>, <em>pixel_unit=False</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/imaging_data.html#Data.shift_coordinate_grid"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.shift_coordinate_grid" title="Permalink to this definition">¶</a></dt>
<dd><p>shifts the coordinate system
:param x_shif: shift in x (or RA)
:param y_shift: shift in y (or DEC)
:param pixel_unit: bool, if True, units of pixels in input, otherwise RA/DEC
:return: updated data class with change in coordinate system</p>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.imaging_data.Data.update_data">
<code class="descname">update_data</code><span class="sig-paren">(</span><em>image_data</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/imaging_data.html#Data.update_data"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.update_data" title="Permalink to this definition">¶</a></dt>
<dd><p>update the data</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>image_data</strong> – 2d numpy array of same size as nx, ny</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body">None</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.imaging_data.Data.width">
<code class="descname">width</code><a class="headerlink" href="#lenstronomy.Data.imaging_data.Data.width" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body">width of data frame</td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.Data.psf">
<span id="lenstronomy-data-psf-module"></span><h2>lenstronomy.Data.psf module<a class="headerlink" href="#module-lenstronomy.Data.psf" title="Permalink to this headline">¶</a></h2>
<dl class="class">
<dt id="lenstronomy.Data.psf.PSF">
<em class="property">class </em><code class="descclassname">lenstronomy.Data.psf.</code><code class="descname">PSF</code><span class="sig-paren">(</span><em>kwargs_psf</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/psf.html#PSF"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.psf.PSF" title="Permalink to this definition">¶</a></dt>
<dd><p>Bases: <code class="xref py py-class docutils literal notranslate"><span class="pre">object</span></code></p>
<p>Point Spread Function convolution</p>
<p>supported psy_types:</p>
<ul>
<li><dl class="first docutils">
<dt>‘GAUSSIAN’: Gaussian convolution kernel</dt>
<dd><dl class="first last docutils">
<dt>kwargs:</dt>
<dd><p class="first last">‘fwhm’: full width at half maximum of Gaussian kernel (arcsec)</p>
</dd>
<dt>required for point sources:</dt>
<dd><p class="first last">‘pixel_size’: width of kernel in units of pixels</p>
</dd>
<dt>optional:</dt>
<dd><p class="first last">‘truncation’: truncation of the Gaussian convolution, default: 5*fwhm
the kernel size will be set to cover everything within the truncation. In units of angle.</p>
</dd>
</dl>
</dd>
</dl>
</li>
<li><dl class="first docutils">
<dt>‘PIXEL’: pixelized convolution kernel with odd pixel numbers</dt>
<dd><dl class="first last docutils">
<dt>kwargs:</dt>
<dd><p class="first last">‘kernel_point_source’: the pixelized kernel from a point source in its center</p>
</dd>
<dt>optional:</dt>
<dd><dl class="first docutils">
<dt>‘kernel_point_source_subsampled’: subsampled point source PSF, this keyword replaces</dt>
<dd><p class="first last">the ‘kernel_point_source’ with the lower resolution of the subsampled PSF model.</p>
</dd>
</dl>
<p>‘point_source_subsampling_factor’: int() factor of higher resolution subsampling psf for point source</p>
<dl class="docutils">
<dt>‘psf_error_map’: uncertainty in the PSF model. Same shape as ‘kernel_point_source’.</dt>
<dd><dl class="first last docutils">
<dt>This error will be added to the pixel error around the position of point sources as follows:</dt>
<dd><p class="first last">sigma^2_i += ‘psf_error_map’_j * (point_source_flux_i)**2</p>
</dd>
</dl>
</dd>
<dt>‘kernel_pixel’: PSF of an extended pixel, can be different size (odd axis number) for faster numerical</dt>
<dd><p class="first last">convolution. If not specified, it will take the full point source kernel and numerically convolve it
over the size of a pixel</p>
</dd>
<dt>‘kernel_pixel_subsampled’: subsampled PSF kernel, this keyword replaces</dt>
<dd><p class="first last">the ‘kernel_pixel’ with the lower resolution of the subsampled PSF model.</p>
</dd>
</dl>
<p class="last">‘pixel_subsampling_factor’: int() factor of higher resolution subsampling psf for the convolution kernel</p>
</dd>
</dl>
</dd>
</dl>
</li>
<li><p class="first">‘NONE’: default option, results in no convolution, point sources will not be displayed</p>
</li>
</ul>
<dl class="attribute">
<dt id="lenstronomy.Data.psf.PSF.kernel_pixel">
<code class="descname">kernel_pixel</code><a class="headerlink" href="#lenstronomy.Data.psf.PSF.kernel_pixel" title="Permalink to this definition">¶</a></dt>
<dd><p>returns the convolution kernel for a uniform surface brightness on a pixel size</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.psf.PSF.kernel_point_source">
<code class="descname">kernel_point_source</code><a class="headerlink" href="#lenstronomy.Data.psf.PSF.kernel_point_source" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.psf.PSF.psf_convolution">
<code class="descname">psf_convolution</code><span class="sig-paren">(</span><em>grid</em>, <em>grid_scale</em>, <em>psf_subgrid=False</em>, <em>subgrid_res=1</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/psf.html#PSF.psf_convolution"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.psf.PSF.psf_convolution" title="Permalink to this definition">¶</a></dt>
<dd><p>convolves a given pixel grid with a PSF</p>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.psf.PSF.psf_convolution_new">
<code class="descname">psf_convolution_new</code><span class="sig-paren">(</span><em>unconvolved_image</em>, <em>subgrid_res=1</em>, <em>subsampling_size=5</em>, <em>psf_subgrid=True</em>, <em>subgrid_conv_type='grid'</em>, <em>conv_type='fft'</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/psf.html#PSF.psf_convolution_new"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.psf.PSF.psf_convolution_new" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>unconvolved_image</strong> – 2d image with subsampled pixels with subgrid_res</li>
<li><strong>subgrid_res</strong> – subsampling resolution</li>
<li><strong>subsampling_size</strong> – size of the subsampling convolution in units of image pixels</li>
<li><strong>psf_subgrid</strong> – bool, if False, the convolution is performed on the pixel size of the data</li>
<li><strong>subgrid_conv_type</strong> – ‘grid’ or ‘fft’, using either scipy.convolve2d or scipy.signal.fftconvolve for
convolution of subsampled kernel</li>
<li><strong>conv_type</strong> – ‘grid’ or ‘fft’, using either scipy.convolve2d or scipy.signal.fftconvolve for
convolution of regular kernel</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">convolved 2d image in units of the pixels</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="attribute">
<dt id="lenstronomy.Data.psf.PSF.psf_error_map">
<code class="descname">psf_error_map</code><a class="headerlink" href="#lenstronomy.Data.psf.PSF.psf_error_map" title="Permalink to this definition">¶</a></dt>
<dd></dd></dl>

<dl class="staticmethod">
<dt id="lenstronomy.Data.psf.PSF.psf_fwhm">
<em class="property">static </em><code class="descname">psf_fwhm</code><span class="sig-paren">(</span><em>kwargs</em>, <em>deltaPix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/psf.html#PSF.psf_fwhm"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.psf.PSF.psf_fwhm" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><ul class="first simple">
<li><strong>kwargs</strong> – keyword arguments of the PSF() class</li>
<li><strong>deltaPix</strong> – pixel size (in the case of subsampled PSF, this is the subsampled pixel size)</li>
</ul>
</td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"><p class="first last">psf fwhm in units of the deltaPix argument</p>
</td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.psf.PSF.set_pixel_size">
<code class="descname">set_pixel_size</code><span class="sig-paren">(</span><em>deltaPix</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/psf.html#PSF.set_pixel_size"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.psf.PSF.set_pixel_size" title="Permalink to this definition">¶</a></dt>
<dd><p>update pixel size</p>
<table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Parameters:</th><td class="field-body"><strong>deltaPix</strong> – </td>
</tr>
<tr class="field-even field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.psf.PSF.subgrid_pixel_kernel">
<code class="descname">subgrid_pixel_kernel</code><span class="sig-paren">(</span><em>subgrid_res</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/psf.html#PSF.subgrid_pixel_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.psf.PSF.subgrid_pixel_kernel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

<dl class="method">
<dt id="lenstronomy.Data.psf.PSF.subgrid_point_source_kernel">
<code class="descname">subgrid_point_source_kernel</code><span class="sig-paren">(</span><em>subgrid_res</em><span class="sig-paren">)</span><a class="reference internal" href="_modules/lenstronomy/Data/psf.html#PSF.subgrid_point_source_kernel"><span class="viewcode-link">[source]</span></a><a class="headerlink" href="#lenstronomy.Data.psf.PSF.subgrid_point_source_kernel" title="Permalink to this definition">¶</a></dt>
<dd><table class="docutils field-list" frame="void" rules="none">
<col class="field-name" />
<col class="field-body" />
<tbody valign="top">
<tr class="field-odd field"><th class="field-name">Returns:</th><td class="field-body"></td>
</tr>
</tbody>
</table>
</dd></dl>

</dd></dl>

</div>
<div class="section" id="module-lenstronomy.Data">
<span id="module-contents"></span><h2>Module contents<a class="headerlink" href="#module-lenstronomy.Data" title="Permalink to this headline">¶</a></h2>
</div>
</div>


          </div>
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="index.html">Table of Contents</a></h3>
  <ul>
<li><a class="reference internal" href="#">lenstronomy.Data package</a><ul>
<li><a class="reference internal" href="#submodules">Submodules</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Data.coord_transforms">lenstronomy.Data.coord_transforms module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Data.imaging_data">lenstronomy.Data.imaging_data module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Data.psf">lenstronomy.Data.psf module</a></li>
<li><a class="reference internal" href="#module-lenstronomy.Data">Module contents</a></li>
</ul>
</li>
</ul>

  <h4>Previous topic</h4>
  <p class="topless"><a href="lenstronomy.Cosmo.html"
                        title="previous chapter">lenstronomy.Cosmo package</a></p>
  <h4>Next topic</h4>
  <p class="topless"><a href="lenstronomy.GalKin.html"
                        title="next chapter">lenstronomy.GalKin package</a></p>
  <div role="note" aria-label="source link">
    <h3>This Page</h3>
    <ul class="this-page-menu">
      <li><a href="_sources/lenstronomy.Data.rst.txt"
            rel="nofollow">Show Source</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3>Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="search.html" method="get">
      <input type="text" name="q" />
      <input type="submit" value="Go" />
      <input type="hidden" name="check_keywords" value="yes" />
      <input type="hidden" name="area" value="default" />
    </form>
    </div>
</div>
<script type="text/javascript">$('#searchbox').show(0);</script>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>Navigation</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="genindex.html" title="General Index"
             >index</a></li>
        <li class="right" >
          <a href="py-modindex.html" title="Python Module Index"
             >modules</a> |</li>
        <li class="right" >
          <a href="lenstronomy.GalKin.html" title="lenstronomy.GalKin package"
             >next</a> |</li>
        <li class="right" >
          <a href="lenstronomy.Cosmo.html" title="lenstronomy.Cosmo package"
             >previous</a> |</li>
        <li class="nav-item nav-item-0"><a href="index.html">lenstronomy 0.7.0 documentation</a> &#187;</li>
          <li class="nav-item nav-item-1"><a href="lenstronomy.html" >lenstronomy package</a> &#187;</li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; Copyright 2018, Simon Birrer and contributors.
      Created using <a href="http://sphinx-doc.org/">Sphinx</a> 1.8.0.
    </div>
  </body>
</html>